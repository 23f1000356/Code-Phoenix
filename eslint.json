[{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\ClockRoom.tsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useHint\" is called in function \"handleRevealHint\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter. React Hook names must start with the word \"use\".","line":31,"column":22,"nodeType":"Identifier","endLine":31,"endColumn":29}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect } from 'react';\r\nimport { TopBar } from './TopBar';\r\nimport { HelpBar } from './HelpBar';\r\nimport { useGame } from '../contexts/GameContext';\r\n\r\nconst SOLUTION_HOUR = 3;\r\nconst SOLUTION_MINUTE = 5;\r\n\r\nconst LADY_IMAGE = '/images/lady.jpeg';\r\n\r\nconst CLOCK_HINTS = [\r\n    'The hour is her age divided by 9. Eliza was 27.',\r\n    '27 √∑ 9 = 3 ‚Äî so set the hour hand to 3.',\r\n    'The minute is the number of wounds. Count the daggers in the portrait: 5. Set the clock to 3:05.',\r\n];\r\n\r\nexport function ClockRoom() {\r\n    const { gameState, solvePuzzle, addToInventory, changeRoom, useHint } = useGame();\r\n    const [clockState, setClockState] = useState({ hour: 12, minute: 0 });\r\n    const [draggingHand, setDraggingHand] = useState<'hour' | 'minute' | null>(null);\r\n    const [solved, setSolved] = useState(false);\r\n    const [showDrawer, setShowDrawer] = useState(false);\r\n    const [candleFlicker, setCandleFlicker] = useState(false);\r\n    const [wallGlow, setWallGlow] = useState(false);\r\n    const [ladyImageError, setLadyImageError] = useState(false);\r\n    const [revealedHintIndex, setRevealedHintIndex] = useState(-1);\r\n    const [hintMessage, setHintMessage] = useState<string | null>(null);\r\n    const clockRef = useRef<HTMLDivElement>(null);\r\n\r\n    const handleRevealHint = () => {\r\n        const used = useHint();\r\n        if (used) {\r\n            const next = revealedHintIndex + 1;\r\n            setRevealedHintIndex(next);\r\n            setHintMessage(CLOCK_HINTS[Math.min(next, CLOCK_HINTS.length - 1)]);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (solved) return;\r\n        if (clockState.hour === SOLUTION_HOUR && clockState.minute !== SOLUTION_MINUTE) {\r\n            setCandleFlicker(true);\r\n            setTimeout(() => setCandleFlicker(false), 500);\r\n        } else if (clockState.minute === SOLUTION_MINUTE && clockState.hour !== SOLUTION_HOUR) {\r\n            setWallGlow(true);\r\n            setTimeout(() => setWallGlow(false), 800);\r\n        }\r\n    }, [clockState, solved]);\r\n\r\n    const handleMouseDown = (hand: 'hour' | 'minute') => {\r\n        if (solved) return;\r\n        setDraggingHand(hand);\r\n    };\r\n\r\n    const handleMouseMove = (e: React.MouseEvent) => {\r\n        if (!draggingHand || !clockRef.current || solved) return;\r\n\r\n        const rect = clockRef.current.getBoundingClientRect();\r\n        const centerX = rect.left + rect.width / 2;\r\n        const centerY = rect.top + rect.height / 2;\r\n\r\n        const angle = Math.atan2(e.clientY - centerY, e.clientX - centerX);\r\n        const degrees = ((angle * 180) / Math.PI + 90 + 360) % 360;\r\n\r\n        if (draggingHand === 'hour') {\r\n            const hour = Math.round((degrees / 30) % 12) || 12;\r\n            setClockState((prev) => ({ ...prev, hour }));\r\n        } else {\r\n            const minute = Math.round(degrees / 6) % 60;\r\n            setClockState((prev) => ({ ...prev, minute }));\r\n        }\r\n    };\r\n\r\n    const handleMouseUp = () => setDraggingHand(null);\r\n\r\n    const checkTime = () => {\r\n        if (solved) return;\r\n        if (clockState.hour === SOLUTION_HOUR && clockState.minute === SOLUTION_MINUTE) {\r\n            setSolved(true);\r\n            setTimeout(() => {\r\n                setShowDrawer(true);\r\n                solvePuzzle('clock');\r\n                addToInventory({ id: 'final-key', name: 'Final Key', icon: 'üóùÔ∏è' });\r\n            }, 2000);\r\n        }\r\n    };\r\n\r\n    const getHourRotation = () => (clockState.hour % 12) * 30 + clockState.minute * 0.5;\r\n    const getMinuteRotation = () => clockState.minute * 6;\r\n\r\n    return (\r\n        <div\r\n            className=\"min-h-screen bg-[#0B0B0E] relative overflow-hidden\"\r\n            onMouseMove={handleMouseMove}\r\n            onMouseUp={handleMouseUp}\r\n        >\r\n            <TopBar roomTitle=\"The Time They Died\" />\r\n\r\n            {/* Clue strip at top so it never overlaps clock or portrait */}\r\n            <div className=\"absolute top-20 left-0 right-0 z-10 px-6 flex justify-center\">\r\n                <div className=\"w-full max-w-2xl bg-[#1A120E]/95 backdrop-blur-sm border border-[#C6A15B]/20 rounded-lg shadow-xl px-5 py-3 text-center\">\r\n                    <div className=\"text-[10px] text-[#C6A15B] font-semibold tracking-widest uppercase mb-1\">Clue</div>\r\n                    <p className=\"text-[#EDEDED] font-serif text-sm leading-snug whitespace-pre-line\">\r\n                        When the lady screamed, time froze. The hour was her age divided by 9. The minute was the dagger wounds she suffered. Set the clock to the exact time of the tragedy.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"absolute inset-0 flex items-center justify-center pt-44 pb-24 px-6\">\r\n                {/* Lady portrait ‚Äî right side (uses image from /images folder) */}\r\n                <div className=\"absolute right-6 top-1/2 -translate-y-1/2 w-56 flex-shrink-0 z-10\">\r\n                    <div className=\"bg-gradient-to-b from-[#2A1E16] to-[#1A120E] border-2 border-[#C6A15B]/40 rounded-lg overflow-hidden shadow-xl\">\r\n                        <div className=\"aspect-[3/4] relative bg-[#1A120E] flex items-center justify-center\">\r\n                            {!ladyImageError ? (\r\n                                <img\r\n                                    src={LADY_IMAGE}\r\n                                    alt=\"Eliza Ashford\"\r\n                                    className=\"w-full h-full object-cover object-top\"\r\n                                    onError={() => setLadyImageError(true)}\r\n                                />\r\n                            ) : (\r\n                                <span className=\"text-[#C6A15B]/60 text-5xl\">üë§</span>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"px-3 py-2 text-center border-t border-[#C6A15B]/20\">\r\n                            <p className=\"text-[#EDEDED] font-serif font-semibold text-sm\">Eliza Ashford</p>\r\n                            <p className=\"text-[#9C9C9C] text-xs\">27 years</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Clock + controls ‚Äî centered */}\r\n                <div className=\"relative flex flex-col items-center gap-8\">\r\n                    <div\r\n                        ref={clockRef}\r\n                        className=\"relative w-96 h-96 bg-gradient-to-br from-[#2A1E16] to-[#1A120E] rounded-full border-8 border-[#C6A15B]/30 shadow-2xl\"\r\n                    >\r\n                        <div className=\"absolute inset-8 rounded-full border-4 border-[#C6A15B]/20 bg-gradient-to-br from-[#1A120E] to-[#0B0B0E]\">\r\n                            {/* Hour numbers */}\r\n                            {[...Array(12)].map((_, i) => {\r\n                                const angle = (i * 30 - 90) * (Math.PI / 180);\r\n                                const x = Math.cos(angle) * 140 + 160;\r\n                                const y = Math.sin(angle) * 140 + 160;\r\n                                return (\r\n                                    <div\r\n                                        key={i}\r\n                                        className=\"absolute text-[#EDEDED] font-serif text-xl\"\r\n                                        style={{ left: `${x}px`, top: `${y}px`, transform: 'translate(-50%,-50%)' }}\r\n                                    >\r\n                                        {i === 0 ? 12 : i}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n\r\n                            {/* Hour hand ‚Äî shorter, thicker, gold (clearly visible) */}\r\n                            <div\r\n                                className=\"absolute top-1/2 left-1/2 origin-bottom cursor-grab active:cursor-grabbing z-[5]\"\r\n                                style={{\r\n                                    width: '12px', height: '72px',\r\n                                    marginLeft: '-6px', marginTop: '-72px',\r\n                                    transform: `rotate(${getHourRotation()}deg)`,\r\n                                }}\r\n                                onMouseDown={(e) => { e.stopPropagation(); handleMouseDown('hour'); }}\r\n                            >\r\n                                <div className=\"w-full h-full bg-gradient-to-t from-[#C6A15B] via-[#B8935F] to-[#FFE4B5] rounded-full shadow-lg border border-[#1A120E]/50\" />\r\n                            </div>\r\n\r\n                            {/* Minute hand ‚Äî longer, thinner, red (clearly visible) */}\r\n                            <div\r\n                                className=\"absolute top-1/2 left-1/2 origin-bottom cursor-grab active:cursor-grabbing z-10\"\r\n                                style={{\r\n                                    width: '6px', height: '120px',\r\n                                    marginLeft: '-3px', marginTop: '-120px',\r\n                                    transform: `rotate(${getMinuteRotation()}deg)`,\r\n                                }}\r\n                                onMouseDown={(e) => { e.stopPropagation(); handleMouseDown('minute'); }}\r\n                            >\r\n                                <div className=\"w-full h-full bg-gradient-to-t from-[#B11226] via-[#8B0E1D] to-[#EDEDED] rounded-full shadow-lg border border-[#1A120E]/30\" />\r\n                            </div>\r\n\r\n                            {/* Center pin */}\r\n                            <div className=\"absolute top-1/2 left-1/2 w-6 h-6 bg-[#C6A15B] rounded-full -translate-x-1/2 -translate-y-1/2 border-2 border-[#1A120E] shadow-lg z-20\" />\r\n                        </div>\r\n\r\n                        {/* Key drawer */}\r\n                        {showDrawer && (\r\n                            <div className=\"absolute bottom-0 left-1/2 -translate-x-1/2 w-48 h-12 bg-[#2A1E16] border-2 border-[#C6A15B] rounded-t-lg shadow-2xl flex items-center justify-center animate-fade-in\">\r\n                                <span className=\"text-[#C6A15B] font-serif\">üóùÔ∏è Final Key Found</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Time display + check + hints */}\r\n                    <div className=\"flex flex-col items-center gap-3\">\r\n                        <p className=\"text-[#9C9C9C] text-xs tracking-wide\">Drag the <span className=\"text-[#C6A15B]\">hour</span> and <span className=\"text-[#B11226]\">minute</span> hands to set the time</p>\r\n                        <div className=\"flex items-center gap-4 flex-wrap justify-center\">\r\n                            <div className=\"text-[#EDEDED] font-serif text-xl bg-[#1A120E] px-4 py-2 border border-[#C6A15B]/20 rounded\">\r\n                                {clockState.hour.toString().padStart(2, '0')}:{clockState.minute.toString().padStart(2, '0')}\r\n                            </div>\r\n                            <button\r\n                                onClick={checkTime}\r\n                                disabled={solved}\r\n                                className=\"px-8 py-3 bg-[#6A0F1B] hover:bg-[#B11226] text-[#EDEDED] font-serif\r\n                             transition-colors duration-300 border border-[#C6A15B]/30\r\n                             disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Check Time\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={handleRevealHint}\r\n                                disabled={solved || gameState.hintsRemaining <= 0}\r\n                                className=\"px-6 py-3 bg-[#1A120E] hover:bg-[#2A2018] text-[#C6A15B] tracking-[0.2em] font-bold text-xs uppercase border border-[#C6A15B]/40 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                üí° Hints ({gameState.hintsRemaining})\r\n                            </button>\r\n                        </div>\r\n                        {hintMessage && (\r\n                            <div className=\"mt-2 max-w-xl mx-auto px-4 py-3 bg-[#1A120E]/90 border border-[#C6A15B]/30 rounded text-center\">\r\n                                <p className=\"text-[#EDEDED] font-serif text-sm\">üí° {hintMessage}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Candelabra */}\r\n                <div\r\n                    className={`absolute top-24 left-20 w-40 h-64 transition-all duration-1000\r\n                     ${wallGlow ? 'drop-shadow-[0_0_40px_rgba(177,18,38,0.8)]' : ''}`}\r\n                >\r\n                    <div className=\"w-full h-full bg-gradient-to-b from-[#2A1E16] to-[#1A120E] border-4 border-[#1A120E] rounded-t-3xl relative\">\r\n                        <div className=\"absolute inset-x-4 bottom-4 h-32\">\r\n                            {[1, 2, 3].map((i) => (\r\n                                <div\r\n                                    key={i}\r\n                                    className={`absolute bottom-0 w-8 h-24 bg-gradient-to-t from-[#C6A15B] via-[#FFE4B5] to-transparent\r\n                             rounded-full blur-sm animate-pulse\r\n                             ${candleFlicker ? 'opacity-30' : 'opacity-100'}`}\r\n                                    style={{ left: `${i * 25}%`, animationDelay: `${i * 0.3}s` }}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Final solved overlay */}\r\n            {solved && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-[#0B0B0E]/90 backdrop-blur-sm z-40 animate-fade-in\">\r\n                    <div className=\"bg-[#1A120E] border-2 border-[#C6A15B] p-12 rounded-lg shadow-2xl text-center max-w-md\">\r\n                        <h2 className=\"text-4xl font-serif text-[#EDEDED] mb-6\">Time Stands Still</h2>\r\n                        <p className=\"text-[#9C9C9C] font-serif mb-4\">\r\n                            3:05 ‚Äî The moment Eliza Ashford's scream echoed through eternity‚Ä¶\r\n                        </p>\r\n                        <p className=\"text-[#C6A15B] font-serif text-2xl mb-8\">Discrepancy Confirmed</p>\r\n                        <button\r\n                            onClick={() => changeRoom('wall')}\r\n                            className=\"px-10 py-3 bg-[#B11226] text-[#EDEDED] font-serif hover:bg-[#8B0E1D] transition-all border border-[#C6A15B]/30\"\r\n                        >\r\n                            Proceed to Evidence Wall\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <HelpBar\r\n                disabled={solved}\r\n                onSkip={() => changeRoom('wall')}\r\n                nextRoomLabel=\"Evidence Wall\"\r\n                answerContent={\r\n                    <div>\r\n                        <p className=\"text-[#9C9C9C] mb-5 text-sm leading-relaxed\">\r\n                            The clue says the hour is her <em>age divided by 9</em>,<br />\r\n                            and the minute is the number of <em>wounds</em>.\r\n                        </p>\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"flex justify-between items-center border-b border-[#C6A15B]/10 pb-3\">\r\n                                <span className=\"text-[#9C9C9C]\">Eliza's age</span>\r\n                                <span className=\"text-[#EDEDED] font-bold\">27 √∑ 9 = <span className=\"text-[#C6A15B]\">3</span></span>\r\n                            </div>\r\n                            <div className=\"flex justify-between items-center border-b border-[#C6A15B]/10 pb-3\">\r\n                                <span className=\"text-[#9C9C9C]\">Wounds (daggers)</span>\r\n                                <span className=\"text-[#EDEDED] font-bold\">= <span className=\"text-[#C6A15B]\">5</span></span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mt-5 text-center\">\r\n                            <p className=\"text-[#9C9C9C] text-xs mb-2\">Set the clock to:</p>\r\n                            <div className=\"text-4xl font-serif text-[#C6A15B] font-bold drop-shadow-[0_0_12px_rgba(198,161,91,0.5)]\">\r\n                                3 : 05\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            />\r\n\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\ClueCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\EvidenceWallRoom.tsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useHint\" is called in function \"handleRevealHint\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter. React Hook names must start with the word \"use\".","line":32,"column":22,"nodeType":"Identifier","endLine":32,"endColumn":29}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { TopBar } from './TopBar';\r\nimport { HelpBar } from './HelpBar';\r\nimport { useGame } from '../contexts/GameContext';\r\nimport { Pin, Link2, Search, Crosshair, AlertTriangle } from 'lucide-react';\r\n\r\nconst WALL_HINTS = [\r\n    'Connect the Estate Lawyer card to the other evidence cards by clicking two cards to draw a string between them.',\r\n    'You need the Lawyer linked to: the Victim (Eliza), the Trust (1912), the Ledger (2735), the Meeting, and the Time of Death (3:05).',\r\n    'Draw at least 5 connections, with at least 3 involving the Lawyer, to close the case.',\r\n];\r\n\r\nconst FINAL_NODES = [\r\n    { id: 'eliza', label: 'Eliza Ashford', x: 512, y: 120, info: 'Victim. Age 27. Discovered the conspiracy.' },\r\n    { id: 'trust', label: 'Ashford Trust', x: 240, y: 280, info: 'Founded 1912. The source of the stolen funds.' },\r\n    { id: 'ledger', label: 'Ledger 2735', x: 784, y: 280, info: 'Evidence of 2 missing records and shell companies.' },\r\n    { id: 'meeting', label: 'April 8 Meeting', x: 240, y: 520, info: 'The board meeting Eliza planned to expose them at.' },\r\n    { id: 'time', label: '3:05 AM - Death', x: 784, y: 520, info: 'The actual moment she was silenced.' },\r\n    { id: 'lawyer', label: 'Estate Lawyer', x: 512, y: 400, info: 'Present in security logs from 2:48 to 3:11.', killer: true },\r\n];\r\n\r\nexport function EvidenceWallRoom() {\r\n    const { gameState, solvePuzzle, changeRoom, useHint } = useGame();\r\n    const [connections, setConnections] = useState<[string, string][]>([]);\r\n    const [selectedNode, setSelectedNode] = useState<string | null>(null);\r\n    const [solved, setSolved] = useState(false);\r\n    const [showFinale, setShowFinale] = useState(false);\r\n    const [revealedHintIndex, setRevealedHintIndex] = useState(-1);\r\n    const [hintMessage, setHintMessage] = useState<string | null>(null);\r\n\r\n    const handleRevealHint = () => {\r\n        const used = useHint();\r\n        if (used) {\r\n            const next = revealedHintIndex + 1;\r\n            setRevealedHintIndex(next);\r\n            setHintMessage(WALL_HINTS[Math.min(next, WALL_HINTS.length - 1)]);\r\n        }\r\n    };\r\n\r\n    // Core connection logic: Eliza discovered corruption (Trust/Ledger) \r\n    // and planned to expose it (Meeting), but was killed (Time) by the Lawyer.\r\n    // To win, the lawyer must be connected to the evidence or the victim.\r\n\r\n    const handleNodeClick = (id: string) => {\r\n        if (solved) return;\r\n\r\n        if (selectedNode === null) {\r\n            setSelectedNode(id);\r\n        } else if (selectedNode === id) {\r\n            setSelectedNode(null);\r\n        } else {\r\n            // Create connection\r\n            const newConn: [string, string] = [selectedNode, id];\r\n\r\n            // Check if already exists\r\n            const exists = connections.some(c =>\r\n                (c[0] === newConn[0] && c[1] === newConn[1]) ||\r\n                (c[0] === newConn[1] && c[1] === newConn[0])\r\n            );\r\n\r\n            if (!exists) {\r\n                setConnections(prev => [...prev, newConn]);\r\n            }\r\n            setSelectedNode(null);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Check for \"The Triangle of Truth\": Lawyer must be connected to specific nodes\r\n        // or we can just require a certain number of connections that include the killer\r\n        const lawyerConnections = connections.filter(c => c.includes('lawyer'));\r\n\r\n        if (lawyerConnections.length >= 3 && connections.length >= 5) {\r\n            setSolved(true);\r\n            solvePuzzle('wall');\r\n            setTimeout(() => setShowFinale(true), 1000);\r\n        }\r\n    }, [connections, solvePuzzle]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#1A120E] relative overflow-hidden font-serif flex flex-col\">\r\n            <div className=\"absolute inset-0 bg-[#000]/40 pointer-events-none\" />\r\n            <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cork-board.png')] opacity-30 select-none\" />\r\n\r\n            <TopBar roomTitle=\"Final Case ‚Äî The Ashford Conspiracy\" />\r\n\r\n            {/* Clue strip - positioned below TopBar with proper spacing */}\r\n            <div className=\"relative z-20 pt-24 px-6 pb-6 flex justify-center\">\r\n                <div className=\"w-full max-w-3xl bg-[#1A120E]/95 backdrop-blur-sm border border-[#C6A15B]/20 rounded-lg shadow-xl px-6 py-4 text-center\">\r\n                    <div className=\"text-[10px] text-[#C6A15B] font-semibold tracking-widest uppercase mb-2\">Clue</div>\r\n                    <p className=\"text-[#EDEDED] font-serif text-base leading-relaxed\">\r\n                        Connect all the clues from the mansion. The Trust founded in 1912, the Ledger Ref 2735, the Board Meeting, and the True Time of Death. Expose the one who was there:\r\n                        <strong className=\"text-[#C6A15B] ml-1\">Draw the strings to connect the mastermind to all corresponding evidence.</strong>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 flex items-center justify-center p-8 pb-32 relative\">\r\n                <div className=\"relative w-full aspect-[16/9] max-w-6xl bg-[#3D2B1F]/40 border-[16px] border-[#2A1E16] rounded shadow-[0_40px_100px_rgba(0,0,0,0.8)] overflow-hidden\">\r\n\r\n                    {/* Strings Layer */}\r\n                    <svg className=\"absolute inset-0 w-full h-full pointer-events-none z-10 transition-opacity duration-1000\">\r\n                        {connections.map((conn, idx) => {\r\n                            const start = FINAL_NODES.find(n => n.id === conn[0])!;\r\n                            const end = FINAL_NODES.find(n => n.id === conn[1])!;\r\n                            return (\r\n                                <line\r\n                                    key={idx}\r\n                                    x1={`${(start.x / 1024) * 100}%`}\r\n                                    y1={`${(start.y / 768) * 100}%`}\r\n                                    x2={`${(end.x / 1024) * 100}%`}\r\n                                    y2={`${(end.y / 768) * 100}%`}\r\n                                    stroke={conn.includes('lawyer') ? '#B11226' : '#8B7355'}\r\n                                    strokeWidth={conn.includes('lawyer') ? '3' : '2'}\r\n                                    strokeDasharray={conn.includes('lawyer') ? '0' : '4,2'}\r\n                                    className=\"transition-all duration-500\"\r\n                                />\r\n                            );\r\n                        })}\r\n                    </svg>\r\n\r\n                    {/* Nodes Layer */}\r\n                    <div className=\"absolute inset-0 z-20\">\r\n                        {FINAL_NODES.map(node => (\r\n                            <div\r\n                                key={node.id}\r\n                                onClick={() => handleNodeClick(node.id)}\r\n                                className={`absolute w-44 -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-all duration-300 group\r\n                  ${selectedNode === node.id ? 'scale-110 z-40' : 'hover:scale-105 z-30'}\r\n                `}\r\n                                style={{ left: `${(node.x / 1024) * 100}%`, top: `${(node.y / 768) * 100}%` }}\r\n                            >\r\n                                {/* Visual Card */}\r\n                                <div className={`relative bg-[#E6D5B8] p-4 shadow-2xl border-t-8 rounded-sm\r\n                   ${selectedNode === node.id ? 'border-[#B11226] ring-4 ring-[#B11226]/20' : 'border-[#2A1E16]/30'}\r\n                   ${node.id === 'lawyer' ? '-rotate-1' : idxToRotation(node.id)}\r\n                `}>\r\n                                    <Pin className={`absolute -top-2 left-1/2 -translate-x-1/2 w-6 h-6 drop-shadow-md transition-colors\r\n                    ${connections.some(c => c.includes(node.id)) ? 'text-[#B11226]' : 'text-gray-400'}\r\n                  `} />\r\n\r\n                                    {node.id === 'lawyer' ? (\r\n                                        <div className=\"w-full h-24 bg-gray-400 mb-3 grayscale overflow-hidden relative\">\r\n                                            <div className=\"absolute inset-0 bg-[#000]/20\" />\r\n                                            <Search className=\"absolute inset-0 m-auto text-white/40 w-8 h-8 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"flex justify-between items-center mb-2 border-b border-black/10 pb-1\">\r\n                                            <span className=\"text-[10px] font-bold text-black/40 uppercase tracking-widest\">Exhibit {node.id.toUpperCase()}</span>\r\n                                            <Link2 className=\"w-3 h-3 text-black/20\" />\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <h4 className=\"text-xs font-bold text-[#2A1E16] mb-1\">{node.label}</h4>\r\n                                    <p className=\"text-[9px] text-[#2A1E16]/70 leading-tight italic line-clamp-2\">\"{node.info}\"</p>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Environmental Mood */}\r\n                    <div className=\"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_50%_40%,transparent_0%,rgba(0,0,0,0.6)_100%)] z-50\" />\r\n                </div>\r\n\r\n                {/* Hints button + revealed hint */}\r\n                <div className=\"absolute bottom-32 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={handleRevealHint}\r\n                        disabled={solved || gameState.hintsRemaining <= 0}\r\n                        className=\"px-6 py-3 bg-[#1A120E] hover:bg-[#2A2018] text-[#C6A15B] tracking-[0.2em] font-bold text-xs uppercase border border-[#C6A15B]/40 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    >\r\n                        üí° Hints ({gameState.hintsRemaining})\r\n                    </button>\r\n                    {hintMessage && (\r\n                        <div className=\"max-w-xl px-4 py-3 bg-[#1A120E]/95 border border-[#C6A15B]/30 rounded text-center\">\r\n                            <p className=\"text-[#EDEDED] font-serif text-sm\">üí° {hintMessage}</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <HelpBar\r\n                disabled={solved}\r\n                onSkip={() => changeRoom('menu')}\r\n                nextRoomLabel=\"Case Closed\"\r\n                answerContent={\r\n                    <div className=\"space-y-3\">\r\n                        <p className=\"text-[#C6A15B] font-bold\">THE CONVERGENCE:</p>\r\n                        <p className=\"text-xs text-[#9C9C9C]\">\r\n                            Connect the <strong>Estate Lawyer</strong> to all other evidence:\r\n                            Victim age (27), Trust (1912), Ledger (2735), and the True Time (3:05).\r\n                        </p>\r\n                        <p className=\"text-xs text-[#9C9C9C]\">You need at least 5 strings to reveal the truth.</p>\r\n                    </div>\r\n                }\r\n            />\r\n\r\n            {/* Finale Overlay */}\r\n            {showFinale && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-[#0B0B0E]/98 backdrop-blur-xl z-[100] animate-fade-in text-center p-12\">\r\n                    <div className=\"max-w-2xl\">\r\n                        <div className=\"flex justify-center mb-8 gap-12\">\r\n                            <Crosshair className=\"text-[#B11226] w-12 h-12 shadow-[0_0_20px_rgba(177,18,38,0.5)]\" />\r\n                            <AlertTriangle className=\"text-[#C6A15B] w-12 h-12\" />\r\n                        </div>\r\n\r\n                        <h2 className=\"text-6xl text-[#EDEDED] font-bold mb-4 tracking-tighter uppercase\">Case Closed</h2>\r\n                        <div className=\"w-32 h-1 bg-[#B11226] mx-auto mb-12\" />\r\n\r\n                        <p className=\"text-xl text-[#9C9C9C] mb-8 leading-relaxed font-serif italic\">\r\n                            The red strings form a triangle pointing directly to the Lawyer...<br />\r\n                            He forged the trust accounts. Eliza found out. He killed her at 3:05 AM and staged the ritual to hide a simple financial crime.\r\n                        </p>\r\n\r\n                        <div className=\"bg-[#1A120E] border border-[#C6A15B]/30 p-8 rounded mb-12\">\r\n                            <p className=\"text-[#C6A15B] text-sm tracking-[0.4em] uppercase mb-4 font-bold\">Official Resolution</p>\r\n                            <h3 className=\"text-3xl text-[#EDEDED] font-serif mb-2\">Confirmed Homicide</h3>\r\n                            <p className=\"text-[#9C9C9C] text-xs\">Perpetrator: Estate Lawyer | Motive: Financial Embezzlement</p>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-col gap-6 items-center\">\r\n                            <div className=\"text-[#C6A15B] text-sm animate-pulse italic\">‚ÄúTruth survives.‚Äù</div>\r\n                            <button\r\n                                onClick={() => window.location.reload()}\r\n                                className=\"px-16 py-5 bg-[#B11226] hover:bg-[#8B0E1D] text-[#EDEDED] text-xl font-bold tracking-[0.5em] transition-all border-2 border-white/10 hover:shadow-[0_0_50px_rgba(177,18,38,0.4)]\"\r\n                            >\r\n                                END INVESTIGATION\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Audio/Visual Payoff Styles */}\r\n            <style dangerouslySetInnerHTML={{\r\n                __html: `\r\n        @keyframes idxRotate {\r\n          0% { transform: rotate(-2deg); }\r\n          50% { transform: rotate(2deg); }\r\n          100% { transform: rotate(-2deg); }\r\n        }\r\n      `}} />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction idxToRotation(id: string) {\r\n    const hash = id.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\r\n    return `rotate(${(hash % 6) - 3}deg)`;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\FurnitureRoom.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\HelpBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\Inventory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\MenuScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[846,849],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[846,849],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1452,1455],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1452,1455],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useGame } from '../contexts/GameContext';\r\nimport { Users, User, LogIn, Plus } from 'lucide-react';\r\n\r\nexport function MenuScreen() {\r\n    const { startGame, createTeam, joinTeam, leaveTeam, teamCode, isMultiplayer, players, myId, hostId, error } = useGame();\r\n\r\n    const [uiState, setUiState] = useState<'main' | 'multiplayer' | 'join'>('main');\r\n    const [joinCodeInput, setJoinCodeInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [localError, setLocalError] = useState<string | null>(null);\r\n\r\n    const handleCreateTeam = async () => {\r\n        setIsLoading(true);\r\n        setLocalError(null);\r\n        try {\r\n            const code = await createTeam();\r\n            if (!code) throw new Error(error || 'Failed to create team.');\r\n        } catch (err: any) {\r\n            setLocalError(err.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleJoinTeam = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!joinCodeInput.trim() || joinCodeInput.length !== 4) {\r\n            setLocalError('Invalid team code format.');\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setLocalError(null);\r\n        try {\r\n            const success = await joinTeam(joinCodeInput);\r\n            if (!success) throw new Error(error || 'Could not find team.');\r\n        } catch (err: any) {\r\n            setLocalError(err.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleLeave = () => {\r\n        leaveTeam();\r\n        setUiState('multiplayer');\r\n        setLocalError(null);\r\n    };\r\n\r\n    const isHost = hostId === myId;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#0B0B0E] text-[#EDEDED] flex flex-col items-center justify-center relative overflow-hidden\">\r\n            {/* Atmospheric background glows */}\r\n            <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-[#B11226]/10 blur-[120px] rounded-full animate-pulse\" />\r\n            <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#6A0F1B]/10 blur-[120px] rounded-full animate-pulse delay-700\" />\r\n            <div className=\"absolute inset-0 bg-[url('/images/pic.jpeg')] bg-cover bg-center opacity-10\" />\r\n            <div className=\"absolute inset-0 bg-gradient-to-b from-[#0B0B0E]/60 via-transparent to-[#0B0B0E]\" />\r\n\r\n            <div className=\"relative z-10 text-center px-8 max-w-3xl\">\r\n                <div className=\"mb-4 text-[#B11226]/60 font-serif tracking-[0.4em] text-sm uppercase\">\r\n                    A Murder Mystery\r\n                </div>\r\n                <h1 className=\"text-8xl font-bold mb-4 tracking-tight font-serif\" style={{ textShadow: '0 0 60px rgba(177,18,38,0.4)' }}>\r\n                    CIPHER\r\n                </h1>\r\n                <div className=\"w-32 h-px bg-gradient-to-r from-transparent via-[#C6A15B] to-transparent mx-auto mb-8\" />\r\n\r\n                {(error || localError) && (\r\n                    <div className=\"bg-[#B11226]/20 border border-[#B11226]/50 text-[#EDEDED] px-4 py-3 rounded mb-8 shadow-[0_0_20px_rgba(177,18,38,0.2)]\">\r\n                        <p className=\"text-sm font-serif\">‚ö†Ô∏è {error || localError}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {!isMultiplayer && uiState === 'main' && (\r\n                    <div className=\"flex flex-col items-center gap-6 animate-fade-in\">\r\n                        <p className=\"text-[#9C9C9C] font-serif italic text-lg mb-8 leading-relaxed max-w-lg\">\r\n                            Eliza Ashford is dead. The official report says suicide.<br />\r\n                            The truth is buried in her mansion. You have 15 minutes.\r\n                        </p>\r\n\r\n                        <button onClick={startGame} className=\"w-80 flex items-center justify-center gap-3 px-8 py-5 bg-[#1A120E]/80 hover:bg-[#2A1E16] text-[#EDEDED] font-serif text-lg tracking-widest transition-all duration-300 border border-[#C6A15B]/30 hover:border-[#C6A15B]/80 hover:shadow-[0_0_30px_rgba(198,161,91,0.2)]\">\r\n                            <User className=\"w-5 h-5 text-[#C6A15B]\" /> SINGLE PLAYER\r\n                        </button>\r\n\r\n                        <button onClick={() => setUiState('multiplayer')} className=\"w-80 flex items-center justify-center gap-3 px-8 py-5 bg-[#B11226]/90 hover:bg-[#B11226] text-[#EDEDED] font-serif text-lg tracking-widest transition-all duration-300 border border-[#B11226] shadow-[0_0_20px_rgba(177,18,38,0.3)] hover:shadow-[0_0_40px_rgba(177,18,38,0.6)]\">\r\n                            <Users className=\"w-5 h-5\" /> MULTIPLAYER\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {!isMultiplayer && uiState === 'multiplayer' && (\r\n                    <div className=\"flex flex-col items-center gap-6 animate-fade-in\">\r\n                        <p className=\"text-[#9C9C9C] font-serif italic text-lg mb-8 leading-relaxed max-w-lg\">\r\n                            Form an investigative team up to 4 players.<br />\r\n                            Solving puzzles will sync across everyone's screen.\r\n                        </p>\r\n\r\n                        <button onClick={handleCreateTeam} disabled={isLoading} className=\"w-80 flex items-center justify-center gap-3 px-8 py-5 bg-[#1A120E]/80 hover:bg-[#2A1E16] text-[#C6A15B] font-serif text-lg tracking-widest transition-all duration-300 border border-[#C6A15B]/30 hover:border-[#C6A15B]/80 disabled:opacity-50\">\r\n                            {isLoading ? 'INITIATING...' : <><Plus className=\"w-5 h-5\" /> CREATE TEAM</>}\r\n                        </button>\r\n\r\n                        <button onClick={() => setUiState('join')} disabled={isLoading} className=\"w-80 flex items-center justify-center gap-3 px-8 py-5 bg-[#2A1E16]/80 hover:bg-[#1A120E] text-[#EDEDED] font-serif text-lg tracking-widest transition-all duration-300 border border-[#9C9C9C]/30 hover:border-[#EDEDED]/60 disabled:opacity-50\">\r\n                            <LogIn className=\"w-5 h-5\" /> JOIN TEAM\r\n                        </button>\r\n\r\n                        <button onClick={() => setUiState('main')} className=\"mt-6 text-[#9C9C9C] hover:text-[#EDEDED] text-xs tracking-widest uppercase transition-colors\">\r\n                            ‚Üê Back to Main Menu\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {!isMultiplayer && uiState === 'join' && (\r\n                    <form onSubmit={handleJoinTeam} className=\"flex flex-col items-center gap-6 animate-fade-in\">\r\n                        <p className=\"text-[#C6A15B] font-serif text-sm tracking-widest uppercase mb-2\">\r\n                            Enter Access Code\r\n                        </p>\r\n\r\n                        <input\r\n                            type=\"text\"\r\n                            maxLength={4}\r\n                            value={joinCodeInput}\r\n                            onChange={(e) => setJoinCodeInput(e.target.value.toUpperCase())}\r\n                            placeholder=\"####\"\r\n                            className=\"w-64 bg-black/50 border-2 border-[#C6A15B]/40 text-center text-4xl tracking-[0.5em] font-mono text-[#EDEDED] py-4 focus:outline-none focus:border-[#C6A15B]\"\r\n                            autoFocus\r\n                        />\r\n\r\n                        <button type=\"submit\" disabled={isLoading || joinCodeInput.length !== 4} className=\"w-64 flex items-center justify-center gap-3 px-8 py-4 bg-[#B11226] text-[#EDEDED] font-serif text-lg tracking-widest transition-all duration-300 disabled:opacity-50 hover:bg-[#8B0E1D]\">\r\n                            {isLoading ? 'CONNECTING...' : 'ENTER'}\r\n                        </button>\r\n\r\n                        <button type=\"button\" onClick={() => setUiState('multiplayer')} className=\"mt-6 text-[#9C9C9C] hover:text-[#EDEDED] text-xs tracking-widest uppercase transition-colors\">\r\n                            ‚Üê Cancel\r\n                        </button>\r\n                    </form>\r\n                )}\r\n\r\n                {/* Multiplayer Lobby waiting room */}\r\n                {isMultiplayer && (\r\n                    <div className=\"flex flex-col items-center gap-8 animate-fade-in w-full max-w-lg mx-auto bg-[#1A120E]/90 p-10 border border-[#C6A15B]/30 shadow-[0_0_50px_rgba(0,0,0,0.8)] rounded-lg backdrop-blur-md\">\r\n                        <div className=\"text-center\">\r\n                            <p className=\"text-[#9C9C9C] text-xs uppercase tracking-[0.3em] mb-2\">Secure Team Link</p>\r\n                            <h2 className=\"text-6xl font-mono text-[#C6A15B] tracking-[0.2em] font-bold drop-shadow-[0_0_15px_rgba(198,161,91,0.5)]\">\r\n                                {teamCode}\r\n                            </h2>\r\n                        </div>\r\n\r\n                        <div className=\"w-full bg-black/50 rounded-lg p-6 border border-white/5\">\r\n                            <div className=\"flex justify-between items-center mb-4 border-b border-white/10 pb-2\">\r\n                                <span className=\"text-sm font-serif text-[#9C9C9C]\">Investigators Connected</span>\r\n                                <span className=\"text-sm font-mono text-[#EDEDED]\">[{players.length}/4]</span>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-3 text-left\">\r\n                                {players.map((p, i) => (\r\n                                    <div key={i} className=\"flex items-center gap-3 text-sm\">\r\n                                        <div className=\"w-8 h-8 rounded-full bg-[#C6A15B]/20 border border-[#C6A15B]/50 flex items-center justify-center text-[#C6A15B]\">\r\n                                            <User size={14} />\r\n                                        </div>\r\n                                        <span className=\"font-mono text-[#EDEDED] tracking-wider truncate w-32\">\r\n                                            {p.id === myId ? 'YOU (Local)' : `Agent-${p.id.slice(0, 4)}`}\r\n                                        </span>\r\n                                        {p.isHost && (\r\n                                            <span className=\"bg-[#B11226]/20 text-[#B11226] border border-[#B11226]/40 text-[9px] px-2 py-0.5 rounded uppercase tracking-wider ml-auto\">\r\n                                                Team Lead\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {isHost ? (\r\n                            <button onClick={startGame} className=\"w-full py-4 bg-[#B11226] hover:bg-[#8B0E1D] text-[#EDEDED] font-serif text-lg tracking-widest transition-all duration-300 border border-[#C6A15B]/30 shadow-[0_0_30px_rgba(177,18,38,0.4)]\">\r\n                                COMMENCE INVESTIGATION\r\n                            </button>\r\n                        ) : (\r\n                            <div className=\"w-full py-4 bg-[#1A120E] border border-[#9C9C9C]/30 text-[#9C9C9C] font-serif text-sm tracking-widest text-center animate-pulse\">\r\n                                WAITING FOR LEAD TO START...\r\n                            </div>\r\n                        )}\r\n\r\n                        <button onClick={handleLeave} className=\"text-[#9C9C9C] hover:text-[#B11226] text-xs tracking-widest uppercase transition-colors underline decoration-transparent hover:decoration-[#B11226] underline-offset-4\">\r\n                            Leave Team\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\Modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\PianoRoom.tsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useHint\" is called in function \"handleRevealHint\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter. React Hook names must start with the word \"use\".","line":64,"column":22,"nodeType":"Identifier","endLine":64,"endColumn":29}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { TopBar } from './TopBar';\r\n\r\nimport { Inventory } from './Inventory';\r\nimport { HelpBar } from './HelpBar';\r\nimport { useGame } from '../contexts/GameContext';\r\nimport { soundManager } from '../utils/sound';\r\n\r\nconst PIANO_KEYS = [\r\n    { note: 'C', isWhite: true },\r\n    { note: 'C#', isWhite: false },\r\n    { note: 'D', isWhite: true },\r\n    { note: 'D#', isWhite: false },\r\n    { note: 'E', isWhite: true },\r\n    { note: 'F', isWhite: true },\r\n    { note: 'F#', isWhite: false },\r\n    { note: 'G', isWhite: true },\r\n    { note: 'G#', isWhite: false },\r\n    { note: 'A', isWhite: true },\r\n    { note: 'A#', isWhite: false },\r\n    { note: 'B', isWhite: true },\r\n];\r\n\r\nconst CORRECT_SEQUENCE = ['C', 'E', 'G', 'D'];\r\n\r\nconst PIANO_HINTS = [\r\n    'Listen with your eyes: the candles mark how many notes you must play.',\r\n    'You are looking for a simple four-note melody that feels like an ending.',\r\n    'Those four notes, played in order, reveal the year of her death: 1-9-1-2.',\r\n];\r\n\r\n\r\nexport function PianoRoom() {\r\n    const { gameState, solvePuzzle, addToInventory, changeRoom, useHint } = useGame();\r\n    const [currentSequence, setCurrentSequence] = useState<string[]>([]);\r\n    const [activeKey, setActiveKey] = useState<string | null>(null);\r\n    const [solved, setSolved] = useState(false);\r\n    const [showCode, setShowCode] = useState(false);\r\n    const [candleGlow, setCandleGlow] = useState(false);\r\n    const [revealedHintIndex, setRevealedHintIndex] = useState(-1);\r\n    const [hintMessage, setHintMessage] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (currentSequence.length === CORRECT_SEQUENCE.length) {\r\n            const isCorrect = currentSequence.every((note, index) => note === CORRECT_SEQUENCE[index]);\r\n\r\n            if (isCorrect) {\r\n                setSolved(true);\r\n                setCandleGlow(true);\r\n                setTimeout(() => {\r\n                    setShowCode(true);\r\n                    solvePuzzle('piano');\r\n                    addToInventory({ id: 'code-1912', name: 'Code: 1912', icon: 'üìú' });\r\n                }, 1500);\r\n            } else {\r\n                setTimeout(() => {\r\n                    setCurrentSequence([]);\r\n                }, 500);\r\n            }\r\n        }\r\n    }, [currentSequence, solvePuzzle, addToInventory]);\r\n\r\n    const handleRevealHint = () => {\r\n        const used = useHint();\r\n        if (used) {\r\n            const next = revealedHintIndex + 1;\r\n            setRevealedHintIndex(next);\r\n            setHintMessage(PIANO_HINTS[Math.min(next, PIANO_HINTS.length - 1)]);\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (note: string) => {\r\n        if (solved) return;\r\n\r\n        soundManager.playPianoKey(note);\r\n        setActiveKey(note);\r\n        setTimeout(() => setActiveKey(null), 200);\r\n\r\n        if (currentSequence.length < CORRECT_SEQUENCE.length) {\r\n            setCurrentSequence([...currentSequence, note]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#0B0B0E] relative overflow-hidden\">\r\n            <TopBar roomTitle=\"The Silent Sonata\" />\r\n\r\n            <div className=\"absolute top-20 left-0 right-0 z-40 px-6 flex justify-center pointer-events-none\">\r\n                <div className=\"w-full max-w-2xl bg-[#1A120E]/95 backdrop-blur-sm border border-[#C6A15B]/20 rounded-lg shadow-xl px-5 py-3 text-center pointer-events-auto\">\r\n                    <div className=\"text-[10px] text-[#C6A15B] font-semibold tracking-widest uppercase mb-1\">Clue</div>\r\n                    <p className=\"text-[#EDEDED] font-serif text-sm leading-snug whitespace-pre-line\">\r\n                        Some truths are played, not spoken. To unlock the finale, play the exact chord sequence corresponding to the year of the estate's founding.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_center,transparent_30%,#0B0B0E_80%)]\" />\r\n\r\n                <div className=\"relative w-full max-w-6xl h-full flex flex-col items-center justify-center gap-16 px-8\">\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute -inset-32 bg-[radial-gradient(ellipse_at_center,rgba(106,15,27,0.2)_0%,transparent_70%)] blur-3xl animate-pulse\" />\r\n\r\n                        <div\r\n                            className={`relative bg-gradient-to-b from-[#1A120E] to-[#0B0B0E] p-12 rounded-lg\r\n                         shadow-[0_0_50px_rgba(106,15,27,0.3)] transition-all duration-1000\r\n                         ${candleGlow ? 'shadow-[0_0_80px_rgba(177,18,38,0.6)]' : ''}`}\r\n                        >\r\n                            {/* Candles */}\r\n                            <div className=\"absolute top-4 left-1/2 -translate-x-1/2 flex gap-8\">\r\n                                {[1, 2, 3, 4, 5].map((i) => (\r\n                                    <div key={i} className=\"relative\">\r\n                                        <div\r\n                                            className={`w-2 bg-gradient-to-t from-[#C6A15B] to-[#FFE4B5] rounded-full\r\n                                 transition-all duration-700 ${candleGlow ? 'h-16 drop-shadow-[0_0_12px_rgba(198,161,91,0.8)]' : 'h-12'}`}\r\n                                        />\r\n                                        <div\r\n                                            className={`absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full\r\n                                 bg-[#FFE4B5] blur-sm transition-all duration-700\r\n                                 ${candleGlow ? 'scale-150' : ''}`}\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {/* Piano keys */}\r\n                            <div className=\"mt-16 flex gap-1\">\r\n                                {PIANO_KEYS.map((key) => {\r\n                                    const isActive = activeKey === key.note;\r\n                                    const isInSequence = currentSequence.includes(key.note);\r\n\r\n                                    if (key.isWhite) {\r\n                                        return (\r\n                                            <button\r\n                                                key={key.note}\r\n                                                onClick={() => handleKeyPress(key.note)}\r\n                                                disabled={solved}\r\n                                                className={`w-16 h-64 bg-gradient-to-b from-[#EDEDED] to-[#D0D0D0]\r\n                                   border-2 border-[#2A1E16] rounded-b-lg shadow-lg\r\n                                   transition-all duration-150 relative\r\n                                   ${isActive ? 'translate-y-2 from-[#C6A15B] to-[#B8935F]' : 'hover:from-[#F5F5F5] hover:to-[#E0E0E0]'}\r\n                                   ${solved ? 'cursor-not-allowed opacity-60' : 'cursor-pointer'}\r\n                                   ${isInSequence && !solved ? 'border-[#C6A15B]' : ''}`}\r\n                                            >\r\n                                                <span className=\"absolute bottom-4 left-1/2 -translate-x-1/2 text-xs font-serif text-[#2A1E16]\">\r\n                                                    {key.note}\r\n                                                </span>\r\n                                            </button>\r\n                                        );\r\n                                    } else {\r\n                                        return (\r\n                                            <button\r\n                                                key={key.note}\r\n                                                onClick={() => handleKeyPress(key.note)}\r\n                                                disabled={solved}\r\n                                                className={`w-10 h-40 bg-gradient-to-b from-[#1A120E] to-[#0B0B0E]\r\n                                   border border-[#2A1E16] rounded-b-lg shadow-2xl\r\n                                   -ml-5 -mr-5 z-10 transition-all duration-150\r\n                                   ${isActive ? 'translate-y-2 from-[#6A0F1B] to-[#4A0A10]' : 'hover:from-[#2A1E16] hover:to-[#1A120E]'}\r\n                                   ${solved ? 'cursor-not-allowed opacity-60' : 'cursor-pointer'}\r\n                                   ${isInSequence && !solved ? 'border-[#C6A15B]' : ''}`}\r\n                                            >\r\n                                                <span className=\"text-[8px] font-serif text-[#EDEDED] opacity-50\">{key.note}</span>\r\n                                            </button>\r\n                                        );\r\n                                    }\r\n                                })}\r\n                            </div>\r\n\r\n                            {/* Sequence progress + instructions + hints */}\r\n                            <div className=\"mt-8 text-center space-y-3\">\r\n                                <div className=\"flex gap-2 justify-center\">\r\n                                    {CORRECT_SEQUENCE.map((_, index) => (\r\n                                        <div\r\n                                            key={index}\r\n                                            className={`w-3 h-3 rounded-full border border-[#9C9C9C] transition-all duration-300\r\n                                 ${currentSequence[index] ? 'bg-[#C6A15B] border-[#C6A15B]' : 'bg-transparent'}`}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                                <p className=\"text-[#9C9C9C]/80 font-serif text-xs tracking-wider\">\r\n                                    Which four notes, played in order, echo the truth she never spoke?\r\n                                </p>\r\n                                <p className=\"text-[#9C9C9C]/60 font-serif text-[11px]\">\r\n                                    Tap the keys to try a four-note melody. The dots fill as you play each note.\r\n                                </p>\r\n                                <div className=\"flex justify-center mt-2\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={handleRevealHint}\r\n                                        disabled={solved || gameState.hintsRemaining <= 0}\r\n                                        className=\"px-6 py-2 bg-[#1A120E] hover:bg-[#2A2018] text-[#C6A15B] tracking-[0.2em] font-bold text-[10px] uppercase border border-[#C6A15B]/40 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                    >\r\n                                        Hints ({gameState.hintsRemaining})\r\n                                    </button>\r\n                                </div>\r\n                                {hintMessage && (\r\n                                    <div className=\"mt-2 max-w-xl mx-auto px-4 py-3 bg-[#1A120E]/90 border border-[#C6A15B]/30 rounded\">\r\n                                        <p className=\"text-[#EDEDED] font-serif text-sm\">üí° {hintMessage}</p>\r\n                                    </div>\r\n                                )}\r\n                                <p className=\"text-[#9C9C9C]/50 font-serif text-xs tracking-wider\">\r\n                                    {solved ? 'MELODY COMPLETE' : `${currentSequence.length} / ${CORRECT_SEQUENCE.length} notes`}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Solved overlay */}\r\n                    {showCode && (\r\n                        <div className=\"absolute inset-0 flex items-center justify-center bg-[#0B0B0E]/90 backdrop-blur-sm animate-fade-in z-40\">\r\n                            <div className=\"bg-[#1A120E] border-2 border-[#C6A15B] p-12 rounded-lg shadow-2xl text-center\">\r\n                                <h2 className=\"text-4xl font-serif text-[#EDEDED] mb-6\">Code Revealed</h2>\r\n                                <div className=\"text-6xl font-serif text-[#C6A15B] tracking-wider mb-8 drop-shadow-[0_0_12px_rgba(198,161,91,0.6)]\">\r\n                                    1912\r\n                                </div>\r\n                                <p className=\"text-[#9C9C9C] font-serif mb-6\">The year she died‚Ä¶</p>\r\n                                <button\r\n                                    onClick={() => changeRoom('furniture')}\r\n                                    className=\"px-8 py-3 bg-[#6A0F1B] hover:bg-[#B11226] text-[#EDEDED] font-serif\r\n                             transition-colors duration-300 border border-[#C6A15B]/30\"\r\n                                >\r\n                                    Continue to Next Room\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <HelpBar\r\n                disabled={solved}\r\n                onSkip={() => changeRoom('furniture')}\r\n                nextRoomLabel=\"Furniture Room\"\r\n                answerContent={\r\n                    <div>\r\n                        <p className=\"text-[#9C9C9C] mb-4 text-sm\">Play these four notes in order:</p>\r\n                        <div className=\"flex gap-3 justify-center\">\r\n                            {['C', 'E', 'G', 'D'].map((note, i) => (\r\n                                <div key={note} className=\"flex flex-col items-center gap-1\">\r\n                                    <span className=\"text-xs text-[#9C9C9C]\">{i + 1}</span>\r\n                                    <div className=\"w-12 h-12 bg-[#C6A15B]/20 border border-[#C6A15B] rounded flex items-center justify-center text-[#C6A15B] font-serif text-lg font-bold\">\r\n                                        {note}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                }\r\n            />\r\n\r\n            <div className=\"absolute bottom-48 left-0 right-0 flex justify-center pointer-events-none\">\r\n                <Inventory />\r\n            </div>\r\n\r\n            {/* Ambient corner glows */}\r\n            <div className=\"absolute inset-0 pointer-events-none\">\r\n                <div className=\"absolute top-0 left-0 w-64 h-64 bg-[#6A0F1B]/10 blur-3xl animate-pulse\" />\r\n                <div className=\"absolute bottom-0 right-0 w-96 h-96 bg-[#B11226]/10 blur-3xl animate-pulse delay-1000\" />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\Room1Game.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\Timer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\components\\TopBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\contexts\\GameContext.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'broadcastAction'. Either include it or remove the dependency array.","line":91,"column":8,"nodeType":"ArrayExpression","endLine":91,"endColumn":69,"suggestions":[{"desc":"Update the dependencies array to be: [timerActive, gameState.timeRemaining, isMultiplayer, hostId, broadcastAction]","fix":{"range":[3158,3219],"text":"[timerActive, gameState.timeRemaining, isMultiplayer, hostId, broadcastAction]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3302,3305],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3302,3305],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":110,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3874,3877],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3874,3877],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":272,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":272,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10195,10198],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10195,10198],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":317,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":317,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11850,11853],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11850,11853],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":369,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":369,"endColumn":24}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useState, useEffect, ReactNode, useRef } from 'react';\r\nimport type { GameState, InventoryItem, RoomName } from '../types/game';\r\nimport Peer, { DataConnection } from 'peerjs';\r\n\r\nexport interface Player {\r\n    id: string;\r\n    peerId?: string;\r\n    isHost: boolean;\r\n}\r\n\r\ninterface GameContextValue {\r\n    gameState: GameState;\r\n    startGame: () => void;\r\n    changeRoom: (room: RoomName) => void;\r\n    solvePuzzle: (puzzleId: string) => void;\r\n    addToInventory: (item: InventoryItem) => void;\r\n    useHint: () => boolean;\r\n    // Multiplayer specific\r\n    isMultiplayer: boolean;\r\n    teamCode: string | null;\r\n    players: Player[];\r\n    hostId: string | null;\r\n    myId: string;\r\n    createTeam: () => Promise<string>;\r\n    joinTeam: (code: string) => Promise<boolean>;\r\n    leaveTeam: () => void;\r\n    error: string | null;\r\n}\r\n\r\nconst GameContext = createContext<GameContextValue | null>(null);\r\n\r\nconst ROOM_TIME_LIMIT = 600; // 10 minutes per page\r\n// Single random ID per session \r\nconst MY_ID = Math.random().toString(36).substring(2, 9);\r\n\r\nconst INITIAL_STATE: GameState = {\r\n    currentRoom: 'menu',\r\n    timeRemaining: ROOM_TIME_LIMIT,\r\n    hintsRemaining: 3,\r\n    inventory: [],\r\n    solvedPuzzles: [],\r\n};\r\n\r\nexport function GameProvider({ children }: { children: ReactNode }) {\r\n    const [gameState, setGameState] = useState<GameState>(INITIAL_STATE);\r\n    const [timerActive, setTimerActive] = useState(false);\r\n\r\n    // Multiplayer states\r\n    const [isMultiplayer, setIsMultiplayer] = useState(false);\r\n    const [teamCode, setTeamCode] = useState<string | null>(null);\r\n    const [players, setPlayers] = useState<Player[]>([]);\r\n    const [hostId, setHostId] = useState<string | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const peerRef = useRef<Peer | null>(null);\r\n    const hostConnRef = useRef<DataConnection | null>(null);\r\n    const clientConnsRef = useRef<DataConnection[]>([]);\r\n    const stateRef = useRef(gameState);\r\n\r\n    // Keep ref in sync for broadcasting without stale closures\r\n    useEffect(() => {\r\n        stateRef.current = gameState;\r\n    }, [gameState]);\r\n\r\n    // Cleanup on unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            peerRef.current?.destroy();\r\n        };\r\n    }, []);\r\n\r\n    // Timer logic - only host ticks in multiplayer, single player otherwise\r\n    useEffect(() => {\r\n        const isHost = !isMultiplayer || hostId === MY_ID;\r\n        if (!timerActive || gameState.timeRemaining <= 0 || !isHost) return;\r\n\r\n        const interval = setInterval(() => {\r\n            setGameState((prev) => {\r\n                const newState = { ...prev, timeRemaining: Math.max(0, prev.timeRemaining - 1) };\r\n\r\n                // If multiplayer and host, sync the timer every 5 seconds to prevent drift \r\n                if (isMultiplayer && newState.timeRemaining % 5 === 0) {\r\n                    broadcastAction('sync-timer', { timeRemaining: newState.timeRemaining });\r\n                }\r\n\r\n                return newState;\r\n            });\r\n        }, 1000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [timerActive, gameState.timeRemaining, isMultiplayer, hostId]);\r\n\r\n    // Network Actions\r\n    const broadcastAction = (event: string, payload: any) => {\r\n        if (!isMultiplayer) return;\r\n\r\n        const message = { type: 'broadcast', event, payload, senderId: MY_ID };\r\n\r\n        if (hostId === MY_ID) {\r\n            // Host sends to all connected clients\r\n            clientConnsRef.current.forEach(conn => {\r\n                if (conn.open) conn.send(message);\r\n            });\r\n        } else if (hostConnRef.current?.open) {\r\n            // Client sends to host, host will forward it to others\r\n            hostConnRef.current.send(message);\r\n        }\r\n    };\r\n\r\n    const handleIncomingMessage = (message: any, senderConn?: DataConnection) => {\r\n        if (message.type === 'broadcast') {\r\n            switch (message.event) {\r\n                case 'sync-state':\r\n                    setGameState(message.payload.state);\r\n                    if (message.payload.startTimer) setTimerActive(true);\r\n\r\n                    // If I am host, forward to other clients so everyone stays synced\r\n                    if (hostId === MY_ID && senderConn) {\r\n                        clientConnsRef.current.forEach(conn => {\r\n                            if (conn.open && conn.peer !== senderConn.peer) {\r\n                                conn.send(message);\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                case 'sync-timer':\r\n                    // only trust host timer\r\n                    if (hostId !== MY_ID) {\r\n                        setGameState(prev => ({ ...prev, timeRemaining: message.payload.timeRemaining }));\r\n                        setTimerActive(true);\r\n                    }\r\n                    break;\r\n                case 'request-state':\r\n                    if (hostId === MY_ID && senderConn) {\r\n                        senderConn.send({\r\n                            type: 'broadcast',\r\n                            event: 'sync-state',\r\n                            payload: { state: stateRef.current, startTimer: timerActive },\r\n                            senderId: MY_ID\r\n                        });\r\n                        syncRoster();\r\n                    }\r\n                    break;\r\n                case 'sync-roster':\r\n                    if (hostId !== MY_ID) {\r\n                        setPlayers(message.payload.players);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    const syncRoster = () => {\r\n        if (hostId !== MY_ID) return;\r\n        const activeClients = clientConnsRef.current.filter(c => c.open);\r\n        const newPlayers: Player[] = [\r\n            { id: MY_ID, peerId: peerRef.current?.id || '', isHost: true },\r\n            ...activeClients.map(c => ({\r\n                id: c.metadata?.myId || c.peer.slice(-4),\r\n                peerId: c.peer,\r\n                isHost: false\r\n            }))\r\n        ];\r\n        setPlayers(newPlayers);\r\n\r\n        // Broadcast roster\r\n        activeClients.forEach(conn => {\r\n            if (conn.open) {\r\n                conn.send({\r\n                    type: 'broadcast',\r\n                    event: 'sync-roster',\r\n                    payload: { players: newPlayers },\r\n                    senderId: MY_ID\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    // Generic state modifier wrappers for components\r\n    const startGame = () => {\r\n        const newState = {\r\n            ...INITIAL_STATE,\r\n            currentRoom: 'mirror' as RoomName,\r\n            timeRemaining: ROOM_TIME_LIMIT,\r\n        };\r\n        setGameState(newState);\r\n        setTimerActive(true);\r\n        if (isMultiplayer) {\r\n            broadcastAction('sync-state', { state: newState, startTimer: true });\r\n        }\r\n    };\r\n\r\n    const changeRoom = (room: RoomName) => {\r\n        setGameState((prev) => {\r\n            const newState = {\r\n                ...prev,\r\n                currentRoom: room,\r\n                timeRemaining: room === 'menu' ? prev.timeRemaining : ROOM_TIME_LIMIT,\r\n            };\r\n            if (isMultiplayer) broadcastAction('sync-state', { state: newState, startTimer: false });\r\n            return newState;\r\n        });\r\n    };\r\n\r\n    const solvePuzzle = (puzzleId: string) => {\r\n        setGameState((prev) => {\r\n            if (prev.solvedPuzzles.includes(puzzleId)) return prev;\r\n            const newState = { ...prev, solvedPuzzles: [...prev.solvedPuzzles, puzzleId] };\r\n            if (isMultiplayer) broadcastAction('sync-state', { state: newState, startTimer: false });\r\n            return newState;\r\n        });\r\n    };\r\n\r\n    const addToInventory = (item: InventoryItem) => {\r\n        setGameState((prev) => {\r\n            if (prev.inventory.some(i => i.id === item.id)) return prev;\r\n            const newState = { ...prev, inventory: [...prev.inventory, item] };\r\n            if (isMultiplayer) broadcastAction('sync-state', { state: newState, startTimer: false });\r\n            return newState;\r\n        });\r\n    };\r\n\r\n    const useHint = () => {\r\n        let used = false;\r\n        setGameState((prev) => {\r\n            if (prev.hintsRemaining <= 0) return prev;\r\n            used = true;\r\n            const newState = { ...prev, hintsRemaining: prev.hintsRemaining - 1 };\r\n            if (isMultiplayer) broadcastAction('sync-state', { state: newState, startTimer: false });\r\n            return newState;\r\n        });\r\n        return used;\r\n    };\r\n\r\n    // --- Multiplayer Setup & Logic ---\r\n    const generateCode = () => {\r\n        const chars = '23456789ABCDEFGHJKLMNPQRSTUVWXYZ'; // Removed similar chars\r\n        return Array.from({ length: 4 }, () => chars.charAt(Math.floor(Math.random() * chars.length))).join('');\r\n    };\r\n\r\n    const createTeam = async (): Promise<string> => {\r\n        setError(null);\r\n        const code = generateCode();\r\n        const peerId = `CIPHER-TEAM-${code}`;\r\n\r\n        return new Promise((resolve) => {\r\n            const peer = new Peer(peerId);\r\n\r\n            peer.on('open', (id) => {\r\n                peerRef.current = peer;\r\n                setIsMultiplayer(true);\r\n                setTeamCode(code);\r\n                setHostId(MY_ID);\r\n                setPlayers([{ id: MY_ID, peerId: id, isHost: true }]);\r\n                resolve(code);\r\n            });\r\n\r\n            peer.on('connection', (conn) => {\r\n                // Check capacity (max 3 clients + 1 host)\r\n                const activeConnections = clientConnsRef.current.filter(c => c.open);\r\n                if (activeConnections.length >= 3) {\r\n                    conn.on('open', () => {\r\n                        conn.send({ type: 'error', message: 'Team is full! Maximum 4 players allowed.' });\r\n                        setTimeout(() => conn.close(), 500);\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                clientConnsRef.current.push(conn);\r\n\r\n                conn.on('open', () => syncRoster());\r\n                conn.on('data', (data: any) => handleIncomingMessage(data, conn));\r\n                conn.on('close', () => {\r\n                    clientConnsRef.current = clientConnsRef.current.filter(c => c.peer !== conn.peer);\r\n                    syncRoster();\r\n                });\r\n            });\r\n\r\n            peer.on('error', (err) => {\r\n                console.error('Peer error as host:', err);\r\n                setError('Failed to create server. Code may be in use.');\r\n                resolve('');\r\n            });\r\n        });\r\n    };\r\n\r\n    const joinTeam = async (code: string): Promise<boolean> => {\r\n        setError(null);\r\n        const cleanCode = code.toUpperCase().trim();\r\n        const targetPeerId = `CIPHER-TEAM-${cleanCode}`;\r\n\r\n        return new Promise((resolve) => {\r\n            const peer = new Peer();\r\n\r\n            peer.on('open', () => {\r\n                peerRef.current = peer;\r\n                const conn = peer.connect(targetPeerId, { metadata: { myId: MY_ID } });\r\n\r\n                conn.on('open', () => {\r\n                    hostConnRef.current = conn;\r\n                    setIsMultiplayer(true);\r\n                    setTeamCode(cleanCode);\r\n                    const targetHostId = cleanCode + '-HOST';\r\n                    setHostId(targetHostId);\r\n\r\n                    // Request initial state + roster from host\r\n                    conn.send({\r\n                        type: 'broadcast',\r\n                        event: 'request-state',\r\n                        payload: {},\r\n                        senderId: MY_ID\r\n                    });\r\n\r\n                    resolve(true);\r\n                });\r\n\r\n                conn.on('data', (data: any) => {\r\n                    if (data.type === 'error') {\r\n                        setError(data.message);\r\n                        leaveTeam();\r\n                    } else {\r\n                        handleIncomingMessage(data);\r\n                    }\r\n                });\r\n\r\n                conn.on('close', () => {\r\n                    if (isMultiplayer) {\r\n                        setError('Connection to host lost.');\r\n                        leaveTeam();\r\n                    }\r\n                });\r\n            });\r\n\r\n            peer.on('error', (err) => {\r\n                console.error('Peer error as client:', err);\r\n                setError('Could not connect to team. Check access code.');\r\n                resolve(false);\r\n            });\r\n        });\r\n    };\r\n\r\n    const leaveTeam = () => {\r\n        if (hostId === MY_ID) {\r\n            clientConnsRef.current.forEach(c => c.close());\r\n        } else {\r\n            hostConnRef.current?.close();\r\n        }\r\n        peerRef.current?.destroy();\r\n        peerRef.current = null;\r\n\r\n        setIsMultiplayer(false);\r\n        setTeamCode(null);\r\n        setPlayers([]);\r\n        setHostId(null);\r\n        setGameState(INITIAL_STATE);\r\n        setTimerActive(false);\r\n    };\r\n\r\n    return (\r\n        <GameContext.Provider value={{\r\n            gameState, startGame, changeRoom, solvePuzzle, addToInventory, useHint,\r\n            isMultiplayer, teamCode, players, hostId, myId: MY_ID, createTeam, joinTeam, leaveTeam, error\r\n        }}>\r\n            {children}\r\n        </GameContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useGame() {\r\n    const ctx = useContext(GameContext);\r\n    if (!ctx) throw new Error('useGame must be used inside <GameProvider>');\r\n    return ctx;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\pages\\EvidenceWallRoom.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'selectedItem' is assigned a value but never used.","line":39,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setSelectedItem' is assigned a value but never used.","line":39,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":39}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Trash2 } from 'lucide-react';\nimport Timer from '../components/Timer';\nimport Inventory from '../components/Inventory';\nimport ClueCard from '../components/ClueCard';\nimport Modal from '../components/Modal';\n\ninterface EvidenceItem {\n  id: string;\n  type: 'suspect' | 'victim' | 'document' | 'cctv' | 'newspaper';\n  name: string;\n  x: number;\n  y: number;\n  content?: string;\n}\n\ninterface Connection {\n  from: string;\n  to: string;\n}\n\nconst initialEvidence: EvidenceItem[] = [\n  { id: 'victim1', type: 'victim', name: 'Victim Photo', x: 400, y: 200, content: 'John Doe, found at 2:17 AM' },\n  { id: 'suspect1', type: 'suspect', name: 'Suspect A', x: 200, y: 150, content: 'Known associate' },\n  { id: 'suspect2', type: 'suspect', name: 'Suspect B', x: 600, y: 150, content: 'Last seen at scene' },\n  { id: 'suspect3', type: 'suspect', name: 'Suspect C', x: 400, y: 350, content: 'Phone records match' },\n  { id: 'cctv1', type: 'cctv', name: 'CCTV Footage', x: 150, y: 300, content: 'Shows figure at 2:15 AM' },\n  { id: 'cctv2', type: 'cctv', name: 'Street Camera', x: 650, y: 300, content: 'Vehicle departing' },\n  { id: 'doc1', type: 'document', name: 'Phone Records', x: 300, y: 450, content: 'Call to 555-0142 at 2:00 AM' },\n  { id: 'doc2', type: 'document', name: 'Bank Statement', x: 500, y: 450, content: 'Large withdrawal' },\n  { id: 'news1', type: 'newspaper', name: 'Article 1', x: 100, y: 500, content: 'Meeting at 41¬∞ north mentioned' },\n];\n\nfunction EvidenceWallRoom() {\n  const navigate = useNavigate();\n  const [evidence, setEvidence] = useState<EvidenceItem[]>(initialEvidence);\n  const [connections, setConnections] = useState<Connection[]>([]);\n  const [selectedItem, setSelectedItem] = useState<string | null>(null);\n  const [connectingFrom, setConnectingFrom] = useState<string | null>(null);\n  const [zoomedItem, setZoomedItem] = useState<EvidenceItem | null>(null);\n  const [solved, setSolved] = useState(false);\n  const wallRef = useRef<HTMLDivElement>(null);\n\n  const handleDragStart = (e: React.DragEvent, itemId: string) => {\n    e.dataTransfer.setData('itemId', itemId);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    const itemId = e.dataTransfer.getData('itemId');\n    const rect = wallRef.current?.getBoundingClientRect();\n\n    if (rect) {\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n\n      setEvidence(prev =>\n        prev.map(item =>\n          item.id === itemId ? { ...item, x, y } : item\n        )\n      );\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n  };\n\n  const handleItemClick = (itemId: string, e: React.MouseEvent) => {\n    if (e.shiftKey) {\n      if (connectingFrom === null) {\n        setConnectingFrom(itemId);\n      } else {\n        if (connectingFrom !== itemId) {\n          setConnections(prev => [...prev, { from: connectingFrom, to: itemId }]);\n        }\n        setConnectingFrom(null);\n      }\n    } else {\n      const item = evidence.find(e => e.id === itemId);\n      if (item) {\n        setZoomedItem(item);\n      }\n    }\n  };\n\n  const clearConnections = () => {\n    setConnections([]);\n    setConnectingFrom(null);\n  };\n\n  const checkTheory = () => {\n    const correctConnections = [\n      { from: 'victim1', to: 'cctv1' },\n      { from: 'cctv1', to: 'suspect3' },\n      { from: 'suspect3', to: 'doc1' },\n    ];\n\n    const hasAllCorrect = correctConnections.every(correct =>\n      connections.some(conn =>\n        (conn.from === correct.from && conn.to === correct.to) ||\n        (conn.from === correct.to && conn.to === correct.from)\n      )\n    );\n\n    if (hasAllCorrect && connections.length >= 3) {\n      setSolved(true);\n    }\n  };\n\n  const getItemPosition = (itemId: string) => {\n    const item = evidence.find(e => e.id === itemId);\n    return item ? { x: item.x, y: item.y } : { x: 0, y: 0 };\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0B0B0E] text-[#EDEDED] flex flex-col\">\n      <div className=\"flex items-center justify-between px-6 py-4 bg-[#141419] border-b-2 border-[#B11226]/30\">\n        <div className=\"flex items-center gap-6\">\n          <button\n            onClick={() => navigate('/')}\n            className=\"p-2 hover:bg-[#B11226]/20 rounded transition-colors\"\n          >\n            <ArrowLeft className=\"w-6 h-6\" />\n          </button>\n          <ClueCard clue=\"Truth connects where lies intersect.\" />\n        </div>\n\n        <Timer initialMinutes={15} />\n      </div>\n\n      <div className=\"flex-1 relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-[#1A1A1F] to-[#0B0B0E]\">\n          <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-64 h-64 bg-[#C6A15B] rounded-full blur-[150px] opacity-20\" />\n        </div>\n\n        <div\n          ref={wallRef}\n          className=\"relative h-full\"\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n        >\n          <svg className=\"absolute inset-0 w-full h-full pointer-events-none\">\n            {connections.map((conn, idx) => {\n              const from = getItemPosition(conn.from);\n              const to = getItemPosition(conn.to);\n              return (\n                <line\n                  key={idx}\n                  x1={from.x}\n                  y1={from.y}\n                  x2={to.x}\n                  y2={to.y}\n                  stroke=\"#B11226\"\n                  strokeWidth=\"2\"\n                  className=\"animate-pulse\"\n                />\n              );\n            })}\n          </svg>\n\n          {evidence.map(item => (\n            <div\n              key={item.id}\n              draggable\n              onDragStart={(e) => handleDragStart(e, item.id)}\n              onClick={(e) => handleItemClick(item.id, e)}\n              className={`absolute transform -translate-x-1/2 -translate-y-1/2 cursor-move ${\n                connectingFrom === item.id ? 'ring-4 ring-[#B11226]' : ''\n              }`}\n              style={{ left: item.x, top: item.y }}\n            >\n              <div className={`px-4 py-3 rounded border-2 transition-all hover:shadow-[0_0_20px_rgba(177,18,38,0.4)] ${\n                item.type === 'victim' ? 'bg-[#B11226]/20 border-[#B11226]' :\n                item.type === 'suspect' ? 'bg-[#141419] border-[#EDEDED]/30' :\n                item.type === 'cctv' ? 'bg-[#C6A15B]/10 border-[#C6A15B]' :\n                'bg-[#0B0B0E] border-[#A3A3A3]'\n              }`}>\n                <div className=\"text-sm font-semibold whitespace-nowrap\">{item.name}</div>\n              </div>\n            </div>\n          ))}\n\n          {solved && (\n            <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n              <div className=\"bg-[#B11226] text-white px-12 py-8 rounded-lg text-3xl font-bold shadow-[0_0_50px_rgba(177,18,38,0.8)] animate-pulse\">\n                COORDINATE: 41.7\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"absolute bottom-24 right-6 flex flex-col gap-3\">\n          <button\n            onClick={clearConnections}\n            className=\"px-6 py-3 bg-[#141419] border-2 border-[#B11226]/50 hover:bg-[#B11226]/20 transition-all flex items-center gap-2\"\n          >\n            <Trash2 className=\"w-5 h-5\" />\n            Clear Board\n          </button>\n          <button\n            onClick={checkTheory}\n            className=\"px-6 py-3 bg-[#B11226] hover:bg-[#8B0E1D] transition-all font-semibold\"\n          >\n            Check Theory\n          </button>\n          <p className=\"text-xs text-[#A3A3A3] text-center\">\n            Shift + Click to connect\n          </p>\n        </div>\n      </div>\n\n      <Inventory />\n\n      <Modal\n        isOpen={zoomedItem !== null}\n        onClose={() => setZoomedItem(null)}\n        title={zoomedItem?.name}\n      >\n        {zoomedItem && (\n          <div className=\"space-y-4\">\n            <div className=\"bg-[#0B0B0E] p-8 rounded border border-[#B11226]/30 min-h-[300px] flex items-center justify-center\">\n              <p className=\"text-lg text-[#EDEDED] text-center leading-relaxed\">\n                {zoomedItem.content}\n              </p>\n            </div>\n            {zoomedItem.id === 'news1' && (\n              <div className=\"text-[#B11226] text-center font-semibold\">\n                Hidden Clue: \"COUNT WHAT ISN'T THERE\"\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n}\n\nexport default EvidenceWallRoom;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\pages\\LandingPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Eye' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Users' is defined but never used.","line":2,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Clock' is defined but never used.","line":2,"column":45,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":50},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FileText' is defined but never used.","line":2,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":60},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'CheckCircle2' is defined but never used.","line":2,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":74}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useNavigate } from 'react-router-dom';\nimport { Eye, Users, Search, Music, Layout, Clock, FileText, CheckCircle2 } from 'lucide-react';\nimport { useEffect, useRef } from 'react';\nimport { useGame } from '../contexts/GameContext';\n\nfunction LandingPage() {\n  const navigate = useNavigate();\n  const { changeRoom, startGame } = useGame();\n  const parallaxRef = useRef<HTMLDivElement>(null);\n  const crimeParallaxRef = useRef<HTMLDivElement>(null);\n  const crimeSectionRef = useRef<HTMLElement>(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n\n      // Hero parallax\n      if (parallaxRef.current) {\n        parallaxRef.current.style.transform = `translateY(${scrollY * 0.4}px)`;\n      }\n\n      // Crime scene section parallax ‚Äî offset by section's top position\n      if (crimeParallaxRef.current && crimeSectionRef.current) {\n        const sectionTop = crimeSectionRef.current.offsetTop;\n        const relativeScroll = scrollY - sectionTop;\n        crimeParallaxRef.current.style.transform = `translateY(${relativeScroll * 0.35}px)`;\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-[#0B0B0E] text-[#EDEDED] font-serif\">\n      {/* ‚îÄ‚îÄ HERO with Parallax ‚îÄ‚îÄ */}\n      <section className=\"relative min-h-screen flex items-center justify-center overflow-hidden\">\n\n        {/* Parallax background image */}\n        <div\n          ref={parallaxRef}\n          className=\"absolute inset-0 will-change-transform\"\n          style={{\n            backgroundImage: 'url(/images/pic.jpeg)',\n            backgroundSize: 'cover',\n            backgroundPosition: 'center top',\n            top: '-15%',       /* overshoot so edges never show on scroll */\n            bottom: '-15%',\n          }}\n        />\n\n        {/* Dark crimson tint overlay */}\n        <div className=\"absolute inset-0 bg-[#0B0B0E]/70\" />\n\n        {/* Red vignette edges */}\n        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_center,transparent_40%,#0B0B0E_100%)]\" />\n\n        {/* Bottom fade to next section */}\n        <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#0B0B0E]\" />\n\n        {/* Hero content */}\n        <div className=\"relative z-10 text-center px-6 max-w-5xl\">\n          <div className=\"mb-6 flex justify-center\">\n            <div className=\"px-4 py-1 border border-[#B11226]/50 bg-[#B11226]/10 text-[#B11226] text-xs tracking-[0.5em] uppercase animate-pulse\">\n              Active Investigation\n            </div>\n          </div>\n          <h1\n            className=\"text-8xl font-bold mb-6 tracking-tighter\"\n            style={{ textShadow: '0 0 50px rgba(177,18,38,0.5), 0 4px 20px rgba(0,0,0,1)' }}\n          >\n            THE ASHFORD CONSPIRACY\n          </h1>\n          <p className=\"text-2xl text-[#C8C8C8] mb-12 max-w-2xl mx-auto leading-relaxed\" style={{ textShadow: '0 2px 12px rgba(0,0,0,0.9)' }}>\n            Eliza Ashford discovered the truth. Then she was silenced. <br />\n            <span className=\"text-sm tracking-[0.2em] text-[#B11226] uppercase font-bold mt-4 block\">15 Minutes to solve the murder.</span>\n          </p>\n\n          <div className=\"flex gap-8 justify-center\">\n            <button\n              onClick={() => { startGame(); navigate('/play'); }}\n              className=\"group relative px-12 py-5 bg-[#B11226] hover:bg-[#8B0E1D] transition-all duration-300 text-lg font-bold tracking-[0.3em]\"\n            >\n              <div className=\"absolute inset-0 border border-white/20 -m-1 group-hover:m-0 transition-all\" />\n              BEGIN INVESTIGATION\n            </button>\n            <button className=\"px-10 py-5 border-2 border-[#C6A15B]/30 hover:border-[#C6A15B] hover:bg-[#C6A15B]/5 transition-all duration-300 text-lg font-bold tracking-[0.3em] backdrop-blur-sm\">\n              CASE FILES\n            </button>\n          </div>\n        </div>\n      </section>\n\n      {/* ‚îÄ‚îÄ MISSION OVERVIEW ‚îÄ‚îÄ */}\n      <section className=\"py-24 px-6 relative z-10 bg-[#0B0B0E]\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"grid md:grid-cols-3 gap-12\">\n            <div className=\"text-center p-8 bg-[#141419]/50 border border-[#B11226]/10 hover:border-[#B11226]/40 transition-colors\">\n              <div className=\"w-16 h-16 bg-[#B11226]/20 flex items-center justify-center rounded-full mx-auto mb-6\">\n                <Music className=\"w-8 h-8 text-[#B11226]\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4 tracking-widest uppercase\">SYMBOLS IN ART</h3>\n              <p className=\"text-[#9C9C9C] text-sm leading-relaxed italic\">Eliza encoded the truth in the very estate that trapped her. Music and puzzles are your only witness.</p>\n            </div>\n            <div className=\"text-center p-8 bg-[#141419]/50 border border-[#B11226]/10 hover:border-[#B11226]/40 transition-colors\">\n              <div className=\"w-16 h-16 bg-[#B11226]/20 flex items-center justify-center rounded-full mx-auto mb-6\">\n                <Layout className=\"w-8 h-8 text-[#B11226]\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4 tracking-widest uppercase\">STAGED REALITY</h3>\n              <p className=\"text-[#9C9C9C] text-sm leading-relaxed italic\">The killer manipulated the furniture and even the clocks to hide the moment of the crime.</p>\n            </div>\n            <div className=\"text-center p-8 bg-[#141419]/50 border border-[#B11226]/10 hover:border-[#B11226]/40 transition-colors\">\n              <div className=\"w-16 h-16 bg-[#B11226]/20 flex items-center justify-center rounded-full mx-auto mb-6\">\n                <Search className=\"w-8 h-8 text-[#B11226]\" />\n              </div>\n              <h3 className=\"text-xl font-bold mb-4 tracking-widest uppercase\">COLLECT EVIDENCE</h3>\n              <p className=\"text-[#9C9C9C] text-sm leading-relaxed italic\">Gather codes from across five rooms to build the final Case File and catch the killer.</p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section ref={crimeSectionRef} className=\"relative py-32 px-6 overflow-hidden\">\n        {/* Crime scene parallax background */}\n        <div\n          ref={crimeParallaxRef}\n          className=\"absolute will-change-transform pointer-events-none\"\n          style={{\n            backgroundImage: 'url(/images/pic.jpeg)',\n            backgroundSize: 'cover',\n            backgroundPosition: 'center center',\n            opacity: 0.15,\n            top: '-20%',\n            bottom: '-20%',\n            left: 0,\n            right: 0,\n          }}\n        />\n        <div className=\"absolute inset-0 bg-[#0B0B0E]/90 pointer-events-none\" />\n\n        <div className=\"relative z-10 max-w-7xl mx-auto\">\n          <div className=\"flex flex-col items-center mb-20 text-center\">\n            <h2 className=\"text-5xl font-bold mb-4 tracking-tighter\">THE MANSION ROOMS</h2>\n            <div className=\"w-24 h-1 bg-[#B11226] mb-6\" />\n            <p className=\"text-[#9C9C9C] max-w-2xl font-serif italic text-lg leading-relaxed\">\n              Every room holds a piece of the Ashford Conspiracy. To catch the lawyer, you must solve them in order or explore the clues individually.\n            </p>\n          </div>\n\n          <div className=\"space-y-12\">\n            {/* Top row ‚Äî 2 primary investigation steps */}\n            <div className=\"grid md:grid-cols-2 gap-12\">\n              {/* Mirror Room */}\n              <div\n                onClick={() => { startGame(); changeRoom('mirror'); navigate('/play'); }}\n                className=\"group cursor-pointer relative overflow-hidden bg-[#141419] border border-white/5 hover:border-[#B11226]/50 transition-all duration-300\"\n              >\n                <div className=\"aspect-[21/9] relative overflow-hidden\">\n                  <img src=\"/images/image.jpeg\" alt=\"Mirror Room\" className=\"w-full h-full object-cover opacity-40 group-hover:scale-105 transition-all duration-700\" />\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-[#141419] to-transparent\" />\n                  <div className=\"absolute top-6 left-6 flex flex-col items-start\">\n                    <span className=\"px-3 py-1 bg-[#B11226] text-white text-[10px] font-bold tracking-widest mb-2\">ROOM I</span>\n                    <h3 className=\"text-3xl font-bold tracking-tighter shadow-black drop-shadow-lg\">MIRROR ‚Äî FALSE NARRATIVE</h3>\n                  </div>\n                </div>\n                <div className=\"p-8\">\n                  <p className=\"text-[#A3A3A3] mb-6 font-serif italic\">\"Count what isn't there.\" Discover the financial records that establish the motive.</p>\n                  <div className=\"flex items-center gap-2 text-[#C6A15B] text-xs font-bold tracking-widest uppercase\">\n                    <span>Evidence Card: Ledger 2735</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Piano Room */}\n              <div\n                onClick={() => { startGame(); changeRoom('piano'); navigate('/play'); }}\n                className=\"group cursor-pointer relative overflow-hidden bg-[#141419] border border-white/5 hover:border-[#B11226]/50 transition-all duration-300\"\n              >\n                <div className=\"aspect-[21/9] relative overflow-hidden\">\n                  <img src=\"/images/piano.jpeg\" alt=\"Piano\" className=\"w-full h-full object-cover opacity-40 group-hover:scale-105 transition-all duration-700\" />\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-[#141419] to-transparent\" />\n                  <div className=\"absolute top-6 left-6 flex flex-col items-start\">\n                    <span className=\"px-3 py-1 bg-[#B11226] text-white text-[10px] font-bold tracking-widest mb-2\">ROOM II</span>\n                    <h3 className=\"text-3xl font-bold tracking-tighter shadow-black drop-shadow-lg\">PIANO ‚Äî THE TRUST</h3>\n                  </div>\n                </div>\n                <div className=\"p-8\">\n                  <p className=\"text-[#A3A3A3] mb-6 font-serif italic\">\"Some truths are played.\" Reveal the year the Ashford Trust was founded.</p>\n                  <div className=\"flex items-center gap-2 text-[#C6A15B] text-xs font-bold tracking-widest uppercase\">\n                    <span>Evidence Card: Founding Year 1912</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Bottom row ‚Äî 3 detailed investigation steps */}\n            <div className=\"grid md:grid-cols-3 gap-8\">\n              {/* Furniture Room */}\n              <div\n                onClick={() => { startGame(); changeRoom('furniture'); navigate('/play'); }}\n                className=\"group cursor-pointer bg-[#141419] border border-white/5 hover:border-[#B11226]/30 transition-all\"\n              >\n                <div className=\"aspect-square relative overflow-hidden\">\n                  <img src=\"/images/furniture.jpeg\" className=\"w-full h-full object-cover opacity-30 group-hover:scale-105 transition-all duration-700\" alt=\"Furniture\" />\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center p-6 text-center\">\n                    <span className=\"text-[10px] text-[#B11226] font-bold tracking-widest mb-2\">ROOM III</span>\n                    <h4 className=\"text-xl font-bold uppercase tracking-widest mb-4\">STAGED SCENE</h4>\n                    <p className=\"text-[10px] text-[#A3A3A3] uppercase tracking-tighter opacity-0 group-hover:opacity-100 transition-opacity\">Align the furniture to uncover the board meeting date.</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Clock Room */}\n              <div\n                onClick={() => { startGame(); changeRoom('clock'); navigate('/play'); }}\n                className=\"group cursor-pointer bg-[#141419] border border-white/5 hover:border-[#B11226]/30 transition-all\"\n              >\n                <div className=\"aspect-square relative overflow-hidden\">\n                  <img src=\"/images/clock.jpeg\" className=\"w-full h-full object-cover opacity-30 group-hover:scale-105 transition-all duration-700\" alt=\"Clock\" />\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center p-6 text-center\">\n                    <span className=\"text-[10px] text-[#B11226] font-bold tracking-widest mb-2\">ROOM IV</span>\n                    <h4 className=\"text-xl font-bold uppercase tracking-widest mb-4\">MOMENT OF DEATH</h4>\n                    <p className=\"text-[10px] text-[#A3A3A3] uppercase tracking-tighter opacity-0 group-hover:opacity-100 transition-opacity\">Freeze the time. 3:05 AM confirms the murderer's presence.</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Evidence Wall ‚Äî Room V */}\n              <div\n                onClick={() => { startGame(); changeRoom('wall'); navigate('/play'); }}\n                className=\"group cursor-pointer bg-[#141419] border border-white/5 hover:border-[#B11226]/30 transition-all\"\n              >\n                <div className=\"aspect-square relative overflow-hidden\">\n                  <img src=\"/images/wall.jpeg\" alt=\"Evidence Wall\" className=\"w-full h-full object-cover opacity-30 group-hover:scale-105 transition-all duration-700\" />\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center p-6 text-center\">\n                    <span className=\"text-[10px] text-[#B11226] font-bold tracking-widest mb-2\">ROOM V ‚Äî FINALE</span>\n                    <h4 className=\"text-xl font-bold uppercase tracking-widest mb-4\">THE KILLER</h4>\n                    <p className=\"text-[10px] text-[#A3A3A3] uppercase tracking-tighter opacity-0 group-hover:opacity-100 transition-opacity\">Connect all the dots. Catch the Estate Lawyer.</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */}\n      <footer className=\"py-24 px-6 bg-[#0B0B0E] border-t border-white/5\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"mb-12 text-center flex flex-col items-center\">\n            <h4 className=\"text-4xl font-bold tracking-tighter mb-4 text-white\">CIPHER</h4>\n            <div className=\"w-12 h-1 bg-[#B11226] mb-8\" />\n            <div className=\"flex gap-12 text-[#A3A3A3] text-sm uppercase tracking-widest\">\n              <span className=\"hover:text-white transition-colors cursor-pointer\">Support</span>\n              <span className=\"hover:text-white transition-colors cursor-pointer\">Leaderboard</span>\n              <span className=\"hover:text-white transition-colors cursor-pointer\">Archive</span>\n            </div>\n          </div>\n          <div className=\"pt-8 border-t border-white/5 text-center text-[10px] text-[#333] tracking-[0.5em] uppercase\">\n            Ashford Estate Management ¬© 2026\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default LandingPage;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\types\\game.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\utils\\sound.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[685,688],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[685,688],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Minimal sound manager using the Web Audio API.\r\n * No external files needed ‚Äî tones are synthesised on demand.\r\n */\r\n\r\ntype NoteName = 'C' | 'C#' | 'D' | 'D#' | 'E' | 'F' | 'F#' | 'G' | 'G#' | 'A' | 'A#' | 'B';\r\n\r\nconst NOTE_FREQUENCIES: Record<NoteName, number> = {\r\n    C: 261.63,\r\n    'C#': 277.18,\r\n    D: 293.66,\r\n    'D#': 311.13,\r\n    E: 329.63,\r\n    F: 349.23,\r\n    'F#': 369.99,\r\n    G: 392.00,\r\n    'G#': 415.30,\r\n    A: 440.00,\r\n    'A#': 466.16,\r\n    B: 493.88,\r\n};\r\n\r\nclass SoundManager {\r\n    private ctx: AudioContext | null = null;\r\n\r\n    private getCtx(): AudioContext {\r\n        if (!this.ctx) {\r\n            this.ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\r\n        }\r\n        return this.ctx;\r\n    }\r\n\r\n    playPianoKey(note: string): void {\r\n        try {\r\n            const ctx = this.getCtx();\r\n            const freq = NOTE_FREQUENCIES[note as NoteName] ?? 440;\r\n\r\n            const oscillator = ctx.createOscillator();\r\n            const gainNode = ctx.createGain();\r\n\r\n            oscillator.type = 'triangle';\r\n            oscillator.frequency.setValueAtTime(freq, ctx.currentTime);\r\n\r\n            gainNode.gain.setValueAtTime(0.4, ctx.currentTime);\r\n            gainNode.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 1.2);\r\n\r\n            oscillator.connect(gainNode);\r\n            gainNode.connect(ctx.destination);\r\n\r\n            oscillator.start(ctx.currentTime);\r\n            oscillator.stop(ctx.currentTime + 1.2);\r\n        } catch {\r\n            // Ignore if audio context isn't available\r\n        }\r\n    }\r\n}\r\n\r\nexport const soundManager = new SoundManager();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rayab\\OneDrive\\Pictures\\Desktop\\Escape Room\\Escape Room\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]